{"version":3,"file":"7.11bc5519a543629cbebf.hot-update.js","sources":["webpack:///global.js","webpack:///./node_modules/antd/lib/col/index.js","webpack:///./node_modules/antd/lib/row/index.js","webpack:///src/components/city/City.js","webpack:///src/components/city/CityContainer.js"],"sourcesContent":["import moment from 'moment'\nimport axios from 'axios';\nimport { Cookies } from 'react-cookie'\nimport CircularJSON from 'circular-json'\nimport { apiUrl } from \"config\"\nconst cookies = new Cookies()\nvar https = require(\"https\");\nexport function getSchedule(data) {\n    let schudeles = []\n\n    data.forEach(calendarItem => {\n\n        switch (calendarItem.frequency && calendarItem.frequency.name) {\n            case \"ONCE\": {\n                schudeles.push({\n                    ...calendarItem,\n                    timeDisplay: calendarItem.end_time,\n                    start: moment(calendarItem.start_time).toDate(),\n                    end: moment(calendarItem.end_time).toDate()\n                })\n                break;\n            }\n            case \"DAILY\": {\n                //Get day of pairing of the week\n                let interval = calendarItem.interval ? calendarItem.interval : 1\n                let repeated = calendarItem.times_repeated ? calendarItem.times_repeated : 100\n\n                for (let i = 0; i < repeated; ++i) {\n                    let tempDate = moment(calendarItem.end_time).add(i * interval, 'day'), tempDate1 = moment(calendarItem.start_time).add(i * interval, 'w')\n\n                    schudeles.push({\n                        ...calendarItem,\n                        timeDisplay: tempDate.format(\"YYYY-MM-DD h:mm a\"),\n                        start: moment((tempDate1.format(\"YYYY-MM-DD h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate(),\n                        end: moment((tempDate1.format(\"YYYY-MM-DD\") + ' ' + moment(calendarItem.end_time).format(\"h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate()\n                    })\n                }\n\n                break;\n\n            }\n            case \"WEEKLY\": {\n                //Get day of pairing of the week\n                let interval = calendarItem.interval ? calendarItem.interval : 1\n                let repeated = calendarItem.times_repeated ? calendarItem.times_repeated : 100\n\n                for (let i = 0; i < repeated; ++i) {\n                    let tempDate = moment(calendarItem.end_time).add(i * interval, 'w'), tempDate1 = moment(calendarItem.start_time).add(i * interval, 'w')\n\n                    schudeles.push({\n                        ...calendarItem,\n                        timeDisplay: tempDate.format(\"YYYY-MM-DD h:mm a\"),\n                        start: moment((tempDate1.format(\"YYYY-MM-DD h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate(),\n                        end: moment((tempDate1.format(\"YYYY-MM-DD\") + ' ' + moment(calendarItem.end_time).format(\"h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate()\n                    })\n                }\n\n                break;\n            }\n            case \"MONTHLY\": {\n                let interval = calendarItem.interval ? calendarItem.interval : 1\n                let repeated = calendarItem.times_repeated ? calendarItem.times_repeated : 2000\n                for (let j = 0; j < repeated; ++j) {\n                    let tempDate = moment(calendarItem.end_time).add(j * interval, 'M'), tempDate1 = moment(calendarItem.start_time).add(j * interval, 'w')\n\n                    schudeles.push({\n                        ...calendarItem,\n                        timeDisplay: tempDate.format(\"YYYY-MM-DD h:mm a\"),\n                        start: moment((tempDate1.format(\"YYYY-MM-DD h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate(),\n                        end: moment((tempDate1.format(\"YYYY-MM-DD\") + ' ' + moment(calendarItem.end_time).format(\"h:mm a\")), \"YYYY-MM-DD h:mm a\").toDate()\n                    })\n                }\n\n                break;\n            }\n            default: break;\n        }\n    })\n\n    return schudeles\n}\n\n\nexport function getEventTime(data) {\n    let schudeles = []\n    switch (data.frequency.name) {\n        case \"ONCE\": {\n            schudeles.push(\n                data.end_time,\n            )\n            break;\n        }\n        case \"DAILY\": {\n            let interval = data.interval ? data.interval : 1\n            let repeated = data.times_repeated ? data.times_repeated : 100\n            //Get day of pairing of the week\n\n            for (let i = 0; i < repeated; ++i) {\n                let tempDate = moment(data.end_time).add(i * interval, 'day')\n                schudeles.push(\n                    tempDate.format(\"YYYY-MM-DD h:mm a\"))\n            }\n\n            break;\n        }\n        case \"WEEKLY\": {\n            let interval = data.interval ? data.interval : 1\n            let repeated = data.times_repeated ? data.times_repeated : 100\n            //Get day of pairing of the week\n\n            for (var i = 0; i < repeated; ++i) {\n                let tempDate = moment(data.end_time).add(i * interval, 'w')\n\n                schudeles.push(\n                    tempDate.format(\"YYYY-MM-DD h:mm a\"))\n            }\n\n            break;\n        }\n        case \"MONTHLY\": {\n\n            let interval = data.interval ? data.interval : 1\n            let repeated = data.times_repeated ? data.times_repeated : 100\n\n            for (let j = 0; j < repeated; ++j) {\n                let tempDate = moment(data.end_time).add(j * interval, 'M')\n\n                schudeles.push(tempDate.format(\"YYYY-MM-DD h:mm a\"))\n            }\n            break;\n        }\n        default: break;\n    }\n\n    return schudeles\n}\n\n\nexport const getDataInitial = (url, token) => {\n    let header = {\n        \"Accept\": \"application/json\"\n    }\n    if (token) {\n        header = {\n            'Authorization': \"Bearer \" + token,\n            \"Accept\": \"application/json\",\n        }\n    }\n    return axios({\n        method: 'get',\n        url: apiUrl + url,\n        httpsAgent: new https.Agent({ rejectUnauthorized: false }),\n        headers: header\n    })\n        .then(function (response) {\n            return response.data\n        })\n        .catch(function (response) {\n            return null\n        });\n}\n\nexport const getPageData = (page) => {\n    return axios({\n        method: 'get',\n        url: `https://cms.gotruckster.com/wp-json/wp/v2/posts?page=` + page,\n        httpsAgent: new https.Agent({ rejectUnauthorized: false }),\n        headers: {\n            \"Accept\": \"application/json\",\n        }\n    })\n        .then(function (response) {\n            return CircularJSON.stringify(response);\n        })\n        .catch(function (error) {\n        });\n}\n\nexport const getPageDetail = (slug) => {\n    return axios({\n        method: 'get',\n        url: `https://cms.gotruckster.com/wp-json/wp/v2/posts?slug=` + slug,\n        httpsAgent: new https.Agent({ rejectUnauthorized: false }),\n        headers: {\n            \"Accept\": \"application/json\",\n        }\n    })\n        .then(function (response) {\n            return CircularJSON.stringify(response);\n        })\n        .catch(function (error) {\n        });\n}\n\n\n// WEBPACK FOOTER //\n// global.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _grid = require('../grid');\n\nexports['default'] = _grid.Col;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/antd/lib/col/index.js\n// module id = ./node_modules/antd/lib/col/index.js\n// module chunks = 0 5 7 8","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _grid = require('../grid');\n\nexports['default'] = _grid.Row;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/antd/lib/row/index.js\n// module id = ./node_modules/antd/lib/row/index.js\n// module chunks = 0 5 7 8","import React, { Component } from 'react';\nimport { Row, Col } from 'antd';\nimport { Link } from 'routes'\nimport CityCard from '../common/cityCard/CityCard'\nimport BreadCumb from '../common/breadCumb/BreadCumb'\n\nconst cityImage1 = '/static/images/image-city-comming.png'\nconst cityImage2 = '/static/images/image-city-taking.png'\n\nconst breadCumb = [\n    {\n        name: \"HOME\",\n        url: \"/\",\n\n    },\n    {\n        name: \"FOOD TRUCKS\",\n        url: \"/food-trucks\",\n    },\n\n]\nconst data = [\n    {\n        title: `Truckster is coming to your city!`,\n        desc: `It’s hard to remember the names of trucks you stumbled upon and loved, and even if you do manage to come up with their name, how do you find them? Food trucks are mobile, so naturally they are on the go. In this day and age, there needs to be a better way to do this. We get you! That’s why Truckster’s here and available as an app when you’re on the go. Not a fan of lines? Amen. Skip those pesky lines with mobile ordering directly from your favorite trucks. Just download the Truckster app to get started.\n\n        Truckster’s platform today spans 6 cities and lists nearly 1,000 food trucks. We’re not stopping there! US, we’re coming for you. Let us know your favorite food truck city so we can make sure you’re next on our list!`,\n        image: cityImage1\n    },\n    {\n        title: `Food Trucks are taking over!`,\n        desc: `How many food trucks are there in the US? Where did the movement start? Where are food trucks today?\n\n        The answer is a ton, and everywhere! While mobile food has been around for hundreds of years, the modern food truck phenomenon is believed to have started either on the beach in Hawaii or in Los Angeles with the first taco truck serving late night eats outside of a local bar in the 70’s. Also around that time, labor unions in New York City and Chicago started feeding workers using the not-so-friendly term of roach coaches.\n        \n        We have come a long way since then! In the US today, there are estimated to be around 25,000 food trucks, trailers, and food carts. And thanks to food truck fans nationwide, that number is growing every year. Food trucks can be found in nearly every major US city, and are popular for locals and tourists alike. You can find authentic ethnic food, farm to table ingredients, no fuss comfort food, and refined, gourmet cuisines.\n        \n        In most cities, food trucks can park anywhere with public parking or with permission on private property. Special event permits are used for food trucks in public spaces like parks or pavilions. Some food trucks post up in food truck specific parks or outside of breweries or bars and stay there permanently or for several months at a time. This is more common in cities like Austin and Portland, where food truck destinations have thrived. No matter what city you live in, a great place to find food trucks would be at large events like festivals, conventions, farmers markets, or neighborhood parties. Truckster lists popular events happening in your city where you can find delicious options!`,\n        image: cityImage2\n    }\n]\n\nclass City extends Component {\n\n    // render category card \n\n    renderCityCard(cities) {\n        console.log(\"cities\", cities)\n        return cities.map((item, index) => {\n            return <Col key={index} style={{ marginBottom: \"16px\" }} span={8}>\n                <CityCard data={item} />\n            </Col>\n        })\n    }\n\n\n    render() {\n        const cities = this.props.cities\n        return (\n            <div className=\"city\">\n                <div className=\" main-wrapper\">\n                    <div>\n                        <BreadCumb breadCumb={breadCumb} />\n                    </div>\n                    <h1 className=\"title DisplayBlackCenter\">\n                        Explore Local Food Trucks by City\n                </h1>\n                    <div className=\"desc LeadRegularDarkGreyCenter\">\n                        Looking for local, delicious eats? We got you! Search Truckster's cities to find everything you need on the best local food trucks.</div>\n\n                    <Row style={{ paddingTop: \"30px\" }} gutter={16}>\n                        {cities && this.renderCityCard(cities)}\n\n                    </Row>\n\n                    <div className=\"city__news\">\n\n                        <div className=\"city__news--item\" >\n                            <img src={data[0].image} />\n                            <div>\n                                <div className=\"title Display-3BlackLeft\">{data[0].title}</div>\n                                <div className=\"desc Body-2RegularBlackLeft\">{data[0].desc}</div>\n                            </div>\n\n                        </div>\n                        <div className=\"city__news--item\" >\n\n                            <div>\n                                <div className=\"title Display-3BlackLeft\">{data[1].title}</div>\n                                <div className=\"desc Body-2RegularBlackLeft\">{data[1].desc}</div>\n                            </div>\n                            <img src={data[1].image} />\n                        </div>\n\n                    </div>\n\n                </div>\n            </div>\n        )\n\n\n    }\n}\n\nexport default City\n\n\n\n// WEBPACK FOOTER //\n// src/components/city/City.js","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport City from './City'\n\nimport _city from './_city.less'\n\nimport _cityCard from '../common/cityCard/_cityCard.less'\nimport { getDataInitial } from '../../../global'\nclass CityContainer extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            hasMore: true\n        }\n    }\n    static async getInitialProps({ req, query }) {\n        let cities\n\n        cities = await getDataInitial(\"api/consumer/v1/city\")\n\n        return {\n            cities\n        }\n    }\n    render() {\n    \n        return (\n            <div className=\"gray-background\">\n\n                <style dangerouslySetInnerHTML={{\n                    __html: _cityCard + _city\n                }} />\n                <City\n                    {...this.state}\n                    {...this.props}\n\n                />\n            </div>\n\n        )\n    }\n}\nexport function mapStateToProps(state) {\n    return {\n\n    };\n}\nexport function mapDispatchToProps(dispatch) {\n    return bindActionCreators({\n\n    }, dispatch)\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(CityContainer);\n\n\n\n// WEBPACK FOOTER //\n// src/components/city/CityContainer.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AA/DA;AAiEA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AA9CA;AACA;AAgDA;AACA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAOA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAJA;AASA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAJA;AASA;AACA;AAGA;;;;;;;;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAFA;AAMA;AACA;AAFA;AAMA;AAEA;AACA;AAGA;AALA;AAQA;AACA;AAOA;AATA;AACA;AAYA;;;;;;;;;;;;;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;;;;AA3DA;AACA;AA6DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AASA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;;;;;;;;;AAzBA;;AAGA;AACA;;AADA;AAEA;AACA;AADA;AACA;;;;;;;;;;;;;;;;AAbA;AACA;AAiCA;AACA;AAGA;AACA;AACA;AAGA;AACA;;;;A","sourceRoot":""}